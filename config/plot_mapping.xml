<binding name="plot_xml_binding" package="uk.co.gregorydoran.plotxml.editor.xml_binding">

  <!-- Plot: -->
  <mapping name="plot" class="uk.co.gregorydoran.plotxml.editor.xml_binding.PlotType">
    <collection  create-type="java.util.ArrayList" name="decisions" field="decisions"/>
    <value style="attribute" name="name" field="name" usage="optional"/>
  </mapping>
  
  <!-- Decision: -->
  <mapping name="decision" class="uk.co.gregorydoran.plotxml.editor.xml_binding.Decision">
    <value style="attribute" name="name" field="name" ident="def"/>
    <value style="element" name="english" field="english"/>
    <value style="attribute" name="type" field="type"/>
    
    <!-- Dependencies: -->
    <structure field="dependencies" usage="optional" name="dependencies" type="uk.co.gregorydoran.plotxml.editor.xml_binding.DependenciesType">
    	<collection field="dependencyList" create-type="java.util.ArrayList">
			<structure name="dependency" type="uk.co.gregorydoran.plotxml.editor.xml_binding.DependencyType">
				<value style="attribute" name="decision" field="decision" ident="ref"/>
			</structure>
		</collection>
    </structure>
    
    <!-- Options: -->
    <structure field="options" name="options" type="uk.co.gregorydoran.plotxml.editor.xml_binding.OptionsType" pre-set="setDecision"> 
	    <collection get-method="getOptions" set-method="setOptions" create-type="java.util.ArrayList">
	    </collection>
    </structure>
    
    <!-- Probabilities: -->
    <structure field="probabilities" name="probabilities" type="uk.co.gregorydoran.plotxml.editor.xml_binding.ProbabilitiesType">
    	<collection create-type="java.util.ArrayList" field="givenList" />
	    <collection create-type="java.util.ArrayList" field="probList" />
    </structure>
  </mapping>
  
  <!-- Option: -->
  <mapping name="option" class="uk.co.gregorydoran.plotxml.editor.xml_binding.OptionType">
    <value style="element" name="english" field="english" />
    <value style="attribute" name="name" get-method="getPath" set-method="setName" ident="def"/>
  </mapping>
  
  
  <!-- Given: -->
  <mapping name="given" class="uk.co.gregorydoran.plotxml.editor.xml_binding.GivenType">
    <collection create-type="java.util.ArrayList" field="givenList" />
    <collection create-type="java.util.ArrayList" field="probList" />
    <value style="attribute" name="option_id" field="option" ident="ref" />
  </mapping>
  
  <!-- Prob: -->
  <mapping name="prob" class="uk.co.gregorydoran.plotxml.editor.xml_binding.ProbType">
    <value style="attribute" name="option_id" field="option" ident="ref" />
    <value style="attribute" name="value" field="value" />
  </mapping>
  
</binding>